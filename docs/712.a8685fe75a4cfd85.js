"use strict";var jt=Object.defineProperty,P=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,Z=(m,s,o)=>s in m?jt(m,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):m[s]=o,h=(m,s)=>{for(var o in s||(s={}))Pt.call(s,o)&&Z(m,o,s[o]);if(P)for(var o of P(s))Zt.call(s,o)&&Z(m,o,s[o]);return m};(self.webpackChunkdemo_app=self.webpackChunkdemo_app||[]).push([[712],{3712:(m,s,o)=>{o.r(s),o.d(s,{DashboardModule:()=>Ft});var u=o(6019),C=o(8305),z=o(7908),G=o(2869);let v,L=1;const p={};function b(t){return t in p&&(delete p[t],!0)}const E={setImmediate(t){const a=L++;return p[a]=!0,v||(v=Promise.resolve()),v.then(()=>b(a)&&t()),a},clearImmediate(t){b(t)}},{setImmediate:H,clearImmediate:R}=E,g={setImmediate(...t){const{delegate:a}=g;return((null==a?void 0:a.setImmediate)||H)(...t)},clearImmediate(t){const{delegate:a}=g;return((null==a?void 0:a.clearImmediate)||R)(t)},delegate:void 0};var Y=o(8843);const J=new class extends Y.v{flush(a){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let n,i=-1;a=a||e.shift();const d=e.length;do{if(n=a.execute(a.state,a.delay))break}while(++i<d&&(a=e.shift()));if(this._active=!1,n){for(;++i<d&&(a=e.shift());)a.unsubscribe();throw n}}}(class extends G.o{constructor(a,e){super(a,e),this.scheduler=a,this.work=e}requestAsyncId(a,e,n=0){return null!==n&&n>0?super.requestAsyncId(a,e,n):(a.actions.push(this),a._scheduled||(a._scheduled=g.setImmediate(a.flush.bind(a,void 0))))}recycleAsyncId(a,e,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(a,e,n);0===a.actions.length&&(g.clearImmediate(e),a._scheduled=void 0)}});var M=o(559),y=o(5044);function x(t){return!!t&&(t instanceof C.y||(0,y.m)(t.lift)&&(0,y.m)(t.subscribe))}var I=o(2997),S=o(7462),D=o(5766),O=o(9433),N=o(8321),Q=o(273),U=o(4799),V=o(9952),f=o(6263),K=o(9468),A=o(4753),W=o(5488),k=o(3174),r=o(3668);function w(){return t=>new C.y(a=>{let e,n;const i=new z.w0;return i.add(t.subscribe({complete:()=>{e&&a.next(n),a.complete()},error:d=>{a.error(d)},next:d=>{n=d,e||(e=J.schedule(()=>{a.next(n),e=void 0}),i.add(e))}})),i})}const _=new r.OlP("@ngrx/component-store Initial State");let tt=(()=>{class t{constructor(e){this.destroySubject$=new M.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new M.t(1),this.isInitialized=!1,this.notInitializedErrorMessage=`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`,this.state$=this.select(n=>n),e&&this.initState(e)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(e){return n=>{let i;const l=(x(n)?n:(0,I.of)(n)).pipe((0,U.b)(c=>this.isInitialized?(0,S.x)([c],D.N).pipe((0,V.M)(this.stateSubject$)):(0,O._)(new Error(this.notInitializedErrorMessage))),(0,f.R)(this.destroy$)).subscribe({next:([c,$t])=>{this.stateSubject$.next(e($t,c))},error:c=>{i=c,this.stateSubject$.error(c)}});if(i)throw i;return l}}initState(e){(0,S.x)([e],D.N).subscribe(n=>{this.isInitialized=!0,this.stateSubject$.next(n)})}setState(e){"function"!=typeof e?this.initState(e):this.updater(e)()}patchState(e){const n="function"==typeof e?e(this.get()):e;this.updater((i,d)=>h(h({},i),d))(n)}get(e){if(!this.isInitialized)throw new Error(this.notInitializedErrorMessage);let n;return this.stateSubject$.pipe((0,K.q)(1)).subscribe(i=>{n=e?e(i):i}),n}select(...e){const{observables:n,projector:i,config:d}=function(t){const a=Array.from(t);let n,e={debounce:!1};const i=a.pop();return"function"!=typeof i?(e=h(h({},e),i),n=a.pop()):n=i,{observables:a,projector:n,config:e}}(e);let l;return l=0===n.length?this.stateSubject$.pipe(d.debounce?w():c=>c,(0,A.U)(i)):(0,N.a)(n).pipe(d.debounce?w():c=>c,(0,A.U)(c=>i(...c))),l.pipe((0,W.x)(),function(t,a,e){var n,i;let d,l=!1;return t&&"object"==typeof t?(d=null!==(n=t.bufferSize)&&void 0!==n?n:1/0,a=null!==(i=t.windowTime)&&void 0!==i?i:1/0,l=!!t.refCount,e=t.scheduler):d=null!=t?t:1/0,(0,k.B)({connector:()=>new M.t(d,a,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}({refCount:!0,bufferSize:1}),(0,f.R)(this.destroy$))}effect(e){const n=new Q.x;return e(n).pipe((0,f.R)(this.destroy$)).subscribe(),i=>(x(i)?i:(0,I.of)(i)).pipe((0,f.R)(this.destroy$)).subscribe(l=>{n.next(l)})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();var at=o(3067),rt=o(7384),nt=o(721),T=o(9007);let F=(()=>{class t extends tt{constructor(e,n){super({photos:[]}),this.photoService=e,this.store=n,this.load=this.effect(i=>i.pipe((0,at.w)(()=>this.photoService.load(0,13)),(0,rt.b)(d=>{this.patchState({photos:d})}))),this.photos$=this.select(this.state$,({photos:i})=>[...i])}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(nt.T),r.LFG(T.yh))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();var ot=o(543),$=o(2604);const it=["*",[["mat-card-footer"]]],dt=["*","mat-card-footer"],st=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ct=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),ht=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,n){2&e&&r.ekj("mat-card-actions-align-end","end"===n.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),ft=(()=>{class t{constructor(e){this._animationMode=e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ot.Qb,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,n){2&e&&r.ekj("_mat-animation-noopable","NoopAnimations"===n._animationMode)},exportAs:["matCard"],ngContentSelectors:dt,decls:2,vars:0,template:function(e,n){1&e&&(r.F$t(it),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:ct,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,n){1&e&&(r.F$t(st),r.Hsn(0),r.TgZ(1,"div",0),r.Hsn(2,1),r.qZA(),r.Hsn(3,2))},encapsulation:2,changeDetection:0}),t})(),Mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[$.BQ],$.BQ]}),t})();var j=o(86);function Ct(t,a){if(1&t&&(r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-header"),r._UZ(2,"a",1),r.TgZ(3,"mat-card-title"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-subtitle"),r._uU(6),r.qZA(),r.qZA(),r._UZ(7,"img",2),r.TgZ(8,"mat-card-content"),r.TgZ(9,"p"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"mat-card-actions"),r.TgZ(12,"button",3),r._uU(13,"LIKE"),r.qZA(),r.qZA(),r.qZA()),2&t){const e=r.oxw();r.xp6(4),r.Oqu(e.photo.title),r.xp6(2),r.Oqu(e.photo.subTitle),r.xp6(1),r.Q6J("src",e.photo.url,r.LSH)("alt",e.photo.title),r.xp6(3),r.hij(" ",e.photo.description," ")}}let bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["labs-photo"]],inputs:{photo:"photo"},decls:1,vars:1,consts:[[4,"ngIf"],["mat-card-avatar","","href","https://twitter.com/kdenerz","target","_blank",1,"avatar"],["mat-card-image","",3,"src","alt"],["mat-button",""]],template:function(e,n){1&e&&r.YNc(0,Ct,14,5,"mat-card",0),2&e&&r.Q6J("ngIf",n.photo)},directives:[u.O5,ft,vt,gt,mt,ut,pt,lt,ht,j.lW],styles:[".avatar[_ngcontent-%COMP%]{background-image:url(https://avatars.githubusercontent.com/u/1221055?v=4);background-size:cover}img[_ngcontent-%COMP%]{aspect-ratio:.66}"],changeDetection:0}),t})();var yt=o(7736),xt=o(4668);let It=(()=>{class t{constructor(e,n,i,d){this.scrollContainer=e,this.elementRef=n,this.changeDetectorRef=i,this.store=d,this.viewed=!1}ngOnInit(){new IntersectionObserver(n=>{const i=n[0];this.viewed=i.isIntersecting||i.boundingClientRect.top<0,this.store.dispatch((0,xt.tg)({id:this.photo.id,viewed:this.viewed})),this.changeDetectorRef.markForCheck()},{root:this.scrollContainer.nativeElement,rootMargin:"0px",threshold:.01}).observe(this.elementRef.nativeElement)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(yt.z),r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(T.yh))},t.\u0275dir=r.lG2({type:t,selectors:[["labs-photo"]],hostVars:2,hostBindings:function(e,n){2&e&&r.ekj("viewed",n.viewed)},inputs:{photo:"photo"}}),t})();function St(t,a){1&t&&r._UZ(0,"labs-photo",1),2&t&&r.Q6J("photo",a.$implicit)}let Dt=(()=>{class t{constructor(e){this.dashboardStore=e,this.photos$=this.dashboardStore.photos$,this.dashboardStore.load()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(F))},t.\u0275cmp=r.Xpm({type:t,selectors:[["labs-dashboard"]],features:[r._Bn([F])],decls:2,vars:3,consts:[[3,"photo",4,"ngFor","ngForOf"],[3,"photo"]],template:function(e,n){1&e&&(r.YNc(0,St,1,1,"labs-photo",0),r.ALo(1,"async")),2&e&&r.Q6J("ngForOf",r.lcZ(1,1,n.photos$))},directives:[u.sg,bt,It],pipes:[u.Ov],styles:["labs-photo[_ngcontent-%COMP%]{--items-per-row: 3;--gap-sum: calc(1rem * calc(var(--items-per-row) - 1));width:calc((100vw - 2rem - var(--gap-sum)) / var(--items-per-row))}[_nghost-%COMP%]{display:flex;grid-gap:1rem;gap:1rem;padding:1rem;flex-wrap:wrap}"],changeDetection:0}),t})();var At=o(8092);let wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[u.ez,Mt,j.ot]]}),t})(),Tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[u.ez]]}),t})(),Ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[u.ez,At.Bz.forChild([{path:"",component:Dt}]),wt,Tt]]}),t})()}}]);